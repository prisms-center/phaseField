<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=11" />
  <meta name="generator" content="Doxygen 1.9.8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PRISMS-PF Manual: Installing from Source</title>
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeDarkModeToggle.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
  </script>
  <script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeTabs.init()
  </script>
  <script type="text/javascript" src="version_selector_handler.js"></script>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
      <div id="titlearea">
        <table cellspacing="0" cellpadding="0">
          <tbody>
            <tr id="projectrow">
              <td id="projectlogo"><img alt="Logo" src="logo_v2_small.png" /></td>
              <td id="projectalign">
                <div id="projectname">PRISMS-PF Manual </div>
                <div id="projectnumber"></div> <!-- version selector will be injected here -->
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Installing from Source</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2><a class="anchor" id="installation_prerequisites"></a>
Prerequisites</h2>
<p>Before you can install PRISMS-PF, you will need to have some prerequisites installed on your machine. These include:</p><ul>
<li>Git (to clone the repository)</li>
<li>A C++ compiler with C++20 support (we recommend GCC or Clang)</li>
<li>CMake (version 3.13.4 or higher)</li>
<li>LAPACK (for linear algebra operations)</li>
<li>MPI (we recommend OpenMPI or MPICH)</li>
<li>p4est (for adaptive octree meshing)</li>
<li>VTK (for file I/O) <b>[optional]</b></li>
<li>Caliper (for profiling) <b>[optional]</b></li>
<li>deal.II (version 9.6 or higher)</li>
</ul>
<p>You can install these prerequisites however you like. The first five are typically available on most OSes through your package manager. For example, on Ubuntu, you can install them with: </p><div class="fragment"><div class="line">sudo apt-get install git lsb-release git subversion wget bc libgmp-dev build-essential</div>
<div class="line">autoconf automake cmake libtool gfortran python3 libboost-all-dev zlib1g-dev openmpi-bin</div>
<div class="line">openmpi-common libopenmpi-dev libblas3 libblas-dev liblapack3 liblapack-dev</div>
<div class="line">libsuitesparse-dev</div>
</div><!-- fragment --><p> To install p4est and deal.II, we recommend following the instructions on the <a href="https://dealii.org/current_release/download/">deal.II installation guide</a>. We suggest building deal.II and p4est using deal.II's automatic installation script <a href="https://github.com/dealii/candi">candi</a>.</p>
<div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/dealii/candi.git</span></div>
<div class="line">cd candi</div>
</div><!-- fragment --><p> Modify the <code>candi.cfg</code> file, commenting out any PACKAGES other than dealii and p4est. Then run: </p><div class="fragment"><div class="line">./candi.sh</div>
</div><!-- fragment --><p> or </p><div class="fragment"><div class="line">./candi.sh -j &lt;nprocs&gt;</div>
</div><!-- fragment --><p> to compile with multiple processors (much faster). (Note that we have found that specifying too many processors can sometimes lead to build failures, so if you run into issues, try reducing the number of processors specified.)</p>
<p>This will install both p4est and deal.II in a local directory (by default,<code>$HOME/dealii-candi/</code>). Be sure to permanently set the <code>DEAL_II_DIR</code> environment variable to point to the deal.II installation.</p>
<p>To install VTK, we recommend installing from source. </p><div class="fragment"><div class="line">git clone https:<span class="comment">//gitlab.kitware.com/vtk/vtk.git vtk-clone</span></div>
<div class="line">mkdir vtk-build</div>
<div class="line">mkdir vtk-install</div>
<div class="line">cd vtk-build</div>
<div class="line">cmake ../vtk-clone -DCMAKE_BUILD_TYPE=Release -DVTK_GROUP_ENABLE_QT=OFF</div>
<div class="line">-DVTK_GROUP_ENABLE_MPI=YES -DVTK_USE_MPI=ON -DVTK_BUILD_TESTING=OFF</div>
<div class="line">-DCMAKE_INSTALL_PREFIX=../vtk-install</div>
<div class="line"> </div>
<div class="line">make -j &lt;numprocs&gt; install</div>
</div><!-- fragment --><p> Be sure to permanently set the <code>VTK_DIR</code> environment variable to point to the VTK installation (e.g.,<code>$HOME/vtk-install/lib/cmake/vtk-9.xx</code>).</p>
<h2><a class="anchor" id="install_prismspf"></a>
Installing PRISMS-PF</h2>
<p>Once you have all the prerequisites installed, you can clone the PRISMS-PF repository from GitHub, configure the build with CMake, and compile the code: </p><div class="fragment"><div class="line">git clone https:<span class="comment">//github.com/prisms-center/phaseField.git</span></div>
<div class="line">cd phaseField</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -DPRISMS_PF_WITH_VTK=ON -DCMAKE_INSTALL_PREFIX=&lt;prisms-install-dir&gt; ..</div>
<div class="line">make -j &lt;nprocs&gt;</div>
</div><!-- fragment --><p> This will build the PRISMS-PF library in both debug and release modes. Next, set the <code>PRISMS_PF_DIR</code> environment variable to point to the PRISMS-PF installation directory (the directory containing the <code>lib</code> and <code>include</code> directories). You can now compile and run any of the applications in the <code>applications</code> directory. For example, to compile and run the <code>allen_cahn_explicit</code> application, you can use the following commands: </p><div class="fragment"><div class="line">cd applications/allen_cahn_explicit</div>
<div class="line">cmake .</div>
<div class="line">make</div>
<div class="line">mpirun -n &lt;nprocs&gt; ./main</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
