### Scripts to convert a vtk output file from DREAM.3D into a format readable by PRISMS-PF

This application allows the user to input a microstructure generated by DREAM.3D as an initial condition for a phase field simulation of grain growth in PRISMS-PF. In order to achieve this, an output vtk file from DREAM.3D must be converted into a format readable by PRISMS-PF, which requires a vtk file with UNSTRUCTURED_GRID dataset type.  

The first step is to as a add a the Vtk Rectilinear Grid Exporter filter to the DREAM.3D pipeline after the microstructure has been generated. The FeatureIds variable must be included in the selected data arrays. After the pipeline is executed, DREAM.3D will generate a vtk output file, which must be copied into the PRISMS-PF grainGrowth_dream3d application folder. We recommend that this file is renamed as microstructure_RL.vtk (alternatively, the user can modify the input file name in the resample_vtk_RL.py script). Once this file is available, the Python scripts resample_vtk_RL.py and convert RL_to_US.py must be run one after the other.

The script resample_vtk_RL.py converts the rectilinear grid cell data output from DREAM.3D into point data by using a resampling operator. In order to do this it you will require to install will require you to install [VisIt](https://wci.llnl.gov/simulation/computer-codes/visit/executables) and then use the [Visit cli](https://github.com/prisms-center/phaseField/tree/master/postprocess_scripts). Once VisIt can be launched from the command line, the script can be executed by typing 

\$ visit -cli -nowin -s resample_vtk_RL.py

This will generate a new vtk file (microstructure_RL_resampled.vtk) of RECTILINEAR_GRID dataset type with point data. For a 2D system, it will also convert a one-layer thickness output from DREAM.3D into "true" 2D data of zero thickness.

The script convert_vtk_RL_to_US.py converts the file microstructure_RL_resampled.vtk from the RECTILINEAR_GRID dataset type into the UNSTRUCTURED_GRID dataset type, which can be read directly by PRISMS-PF. To run this script simply type

\$ python convert_vtk_RL_to_US.py

The resulting vtk file (microstructure_US.vtk) can be input into the parameters.prm line that sets the grain structure filename, e.g.,

set Grain structure filename = microstructure_US
